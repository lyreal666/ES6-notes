"use strict";

/**
 *
 */

let debug = console.log;

//------------------------æ„é€ å‡½æ•°--------------------//
// ES5
let regexp1 = new RegExp('\\d+', 'g');
let regexp2 = new RegExp(/\d+/g); // ç¬¬ä¸€ä¸ªå‚æ•°æ—¶æ­£åˆ™è¡¨è¾¾å¼å¯¹è±¡æ—¶,æ²¡æœ‰ç¬¬äºŒä¸ªå‚æ•°
// ES6
let regexp3 = new RegExp(/\d+/g, 'iy'); // ES6å…è®¸ç¬¬äºŒä¸ªå‚æ•°å†æ¬¡æŒ‡å®šåŒ¹é…æ¨¡å¼
debug(regexp3.flags); // => iy ç¬¬äºŒä¸ªå‚æ•°ä¼šè¦†ç›–åŸæœ‰å¯¹è±¡åŒ¹é…æ¨¡å¼


//--------------unicode æ¨¡å¼-----------------------------ã€ã€
// 4å­—èŠ‚å­—ç¬¦å°†è¢«è§†ä½œä¸€ä¸ªå­—ç¬¦
debug('ğ ®·'.codePointAt(0).toString(16)); // 20bb7
debug('ğ ®·'.charCodeAt(0).toString(16) + ' ' + 'ğ ®·'.charCodeAt(1).toString(16)); // d842 dfb7
debug('\ud842\udfb7'); // ğ ®·
// ES5 å››å­—èŠ‚å­—ç¬¦åº”è¯¥è¢«è§†ä¸ºä¸€ä¸ªå­—ç¬¦ï¼Œä¸‹é¢çš„ç»“æœå…ˆè®©ä¸åˆç†
debug(/\ud842/.test('\ud842\udfb7')); // true
// ES6
debug(/\ud842/u.test('\ud842\udfb7')); // false

// 4ç‚¹uæ¨¡å¼å¸¦æ¥çš„è¡Œä¸ºæ”¹å˜

// u åŒ¹é…æ¨¡å¼ä¸‹æ­£åˆ™è¡¨è¾¾å¼ä¸­è¡¨ç¤ºé™¤äº†æ¢è¡Œç¬¦çš„ä»»æ„å­—ç¬¦çš„.å¯ä»¥åŒ¹é…4å­—èŠ‚å­—ç¬¦
debug(/^.$/.test('ğ ®·')); // false
debug(/^.$/u.test('ğ ®·')); // true

// ä½¿ç”¨uæ¨¡å¼, unicodeå­—ç¬¦å¤§æ‹¬å·è¡¨ç¤ºæ³•çš„å¤§æ‹¬å·æ‰ä¼šè¢«æ­£ç¡®è¯†åˆ«ï¼Œå¦åˆ™ä¼šè¢«è¯†åˆ«ä¸ºé‡è¯
debug(/\u{61}/.test('a')); // false å†…è¯†åˆ«ä¸º61ä¸ª\u
debug(/\u{61}/u.test('a')); // true æ­£ç¡®è¯†åˆ«
debug(/\u0061/u.test('a')); // true

// é‡è¯ä¼šæ­£ç¡®è¯†åˆ«æ‰€é‡åŒ–çš„å­—ç¬¦
debug(/\ud842\udfb7{2}/.test('\ud842\udfb7\ud842\udfb7')); // false, è¯†åˆ«ä¸º2ä¸ª\udfb7
debug(/\ud842\udfb7{2}/u.test('\ud842\udfb7\ud842\udfb7')); // true, è¯†åˆ«ä¸ºä¸¤ä¸ª\ud842\udfb7

// \Sèƒ½åŒ¹é…4byteså­—ç¬¦
debug('123'.match(/\d/g)); // [ '1', '2', '3' ]
let getLength = (text) => text.match(/[\s\S]/gu).length; // \SåŒ¹é…éç©ºå­—ç¬¦
debug(getLength('a c    b d ')); // 11
debug('ğ ®·ğ ®·'.match(/\S/g).length); // 4
debug(getLength('ğ ®·ğ ®·')); // 2

// èƒ½æ­£ç¡®è¯†åˆ«ç ç‚¹ä¸åŒä½†å­—å½¢ç›¸è¿‘çš„å­—ç¬¦ \u004B å’Œ\u212aéƒ½æ˜¯K
debug('\u004b \u212a');
debug(/[a-z]/i.test('\u212a')); // false
debug(/[a-z]/iu.test('\u212a')); // true ä¸åŠ uæ— æ³•è¯†åˆ«ä¸è§„èŒƒçš„K


//------------------------y é»è¿æ¨¡å¼-----------------------------//
let regexp4 = /\d\d\d/gu;
debug(regexp4.exec('111 222 333')); // [ '111', index: 0, input: '111 222 333' ]
debug(regexp4.exec('111 222 333')); // [ '222', index: 4, input: '111 222 333' ]
debug(regexp4.exec('111 222 333')); // [ '333', index: 8, input: '111 222 333' ]

// yæ¨¡å¼
let regexp5 = /\d\d\d/gyu;
debug(regexp5.exec('111 222 333')); // [ '111', index: 0, input: '111 222 333' ]
debug(regexp5.exec('111 222 333')); // null

// æ¥ä¸ªå¯¹æ¯”
debug(/\d\d\d/gu.exec('a 123')); // [ '123', index: 2, input: 'a 123' ]
debug(/\d\d\d/guy.exec('a 123')); // null
/**
 * gæ¨¡å¼è¡¨ç¤ºæ¯æ¬¡éƒ½ä»å½“å‰lastIndexåŒ¹é…
 * yæ¨¡å¼éšå«^
 * ç›¸å½“äºå…¨å±€åŒ¹é…ä¸­æ¯æ¬¡^ç”Ÿæ•ˆ
 */

let regexp6 = /^\d\d\d/gu;
debug('---------------regexp6---------------')
debug(regexp6.exec('111 222 333')); // [ '111', index: 0, input: '111 222 333' ]
debug(regexp6.exec('111 222 333')); // null

// yä¿®é¥°ç¬¦çš„ä¸€ä¸ªåº”ç”¨ï¼Œæ˜¯ä»å­—ç¬¦ä¸²æå– tokenï¼ˆè¯å…ƒï¼‰ï¼Œyä¿®é¥°ç¬¦ç¡®ä¿äº†åŒ¹é…ä¹‹é—´ä¸ä¼šæœ‰æ¼æ‰çš„å­—ç¬¦ã€‚

const TOKEN_Y = /\s*(\+|[0-9]+)\s*/y;
const TOKEN_G  = /\s*(\+|[0-9]+)\s*/g;

tokenize(TOKEN_Y, '3 + 4')
// [ '3', '+', '4' ]
tokenize(TOKEN_G, '3 + 4')
// [ '3', '+', '4' ]

function tokenize(TOKEN_REGEX, str) {
    let result = [];
    let match;
    while (match = TOKEN_REGEX.exec(str)) {
        result.push(match[1]);
    }
    return result;
}


//---------------------some attributes--------------------------//
debug(/\d/iguy.flags); // giuy
debug(/\d/igu.sticky); // false
debug(/\d/iguy.sticky); // true


//-------------------------dotAll æ¨¡å¼-------------------------//
/**
 * .å·æœ‰ä¸¤ç§å­—ç¬¦ä¸èƒ½ç›´æ¥è¡¨ç¤º
 * 4å­—èŠ‚å­—ç¬¦é€šè¿‡uè§£å†³
 * è¡Œç»ˆæ­¢ç¬¦é€šè¿‡sè§£å†³
 */

debug(/^.$/.test('\n')); // false
debug(/^.$/s.test('\n')); //true


//---------------------------æ–­è¨€--------------------------------------//
// å…ˆè¡Œ: æ‰«æå¼•æ“ä¼šå°è¯•åŒ¹é…æ‰«ææŒ‡é’ˆåé¢çš„å­—ç¬¦
// å…ˆè¡Œæ–­è¨€
debug('25% is smaller than 30 percent'.match(/\d+(?=%)/g)); // [ '25' ]

// å…ˆè¡Œå¦å®šæ–­è¨€
debug('25% is smaller than 30 percent'.match(/\d\d(?!%)/g)); // [ '30' ]

// åè¡Œ: æ‰«æå¼•æ“å°è¯•åŒ¹é…åŒ¹é…æŒ‡é’ˆåé¢çš„å­—ç¬¦
// debug(/(?<=\$)var/g.exec('$var is a var')); // [ 'var', index: 1, input: '$var is a var' ]
// debug(/(?<!\$)var/g.exec('$var is a var')); // [ 'var', index: 10, input: '$var is a var' ]

// åè¡Œæ–­è¨€çš„ç»„åŒ¹é…ï¼Œä¸æ­£å¸¸æƒ…å†µä¸‹ç»“æœæ˜¯ä¸ä¸€æ ·çš„ã€‚

// /(?<=(\d+)(\d+))$/.exec('1053') // ["", "1", "053"];
// /^(\d+)(\d+)$/.exec('1053') // ["1053", "105", "3"];

// å…¶æ¬¡ï¼Œâ€œåè¡Œæ–­è¨€â€çš„åæ–œæ å¼•ç”¨ï¼Œä¹Ÿä¸é€šå¸¸çš„é¡ºåºç›¸åï¼Œå¿…é¡»æ”¾åœ¨å¯¹åº”çš„é‚£ä¸ªæ‹¬å·ä¹‹å‰ã€‚
//
// /(?<=(o)d\1)r/.exec('hodor')  // null
// /(?<=\1d(o))r/.exec('hodor')  // ["r", "o"]

debug(/(\d)/.exec('1')); // regexpæœ€å¤–å±‚ä¸è¦åŠ æ‹¬å·


//-------------------- Unicode ç±»-------------------------//
/**
 * ä½¿ç”¨\p{} æˆ–\P{}å½¢å¼çš„ç±»é…åˆæ­£åˆ™è¡¨è¾¾å¼
 * ç”±äºUnicodeç±»æœ‰å¾ˆå¤šå±æ€§æ˜¯çš„è¿™ç§å½¢å¼çš„æ­£åˆ™è¡¨è¾¾å¼éå¸¸å¼ºå¤§
 */
// const uregexp = /\p{Script=Greek}/u;
// debug(uregexp.exec('âˆ'));
// ES2018 å¼•å…¥äº†ä¸€ç§æ–°çš„ç±»çš„å†™æ³•\p{...}å’Œ\P{...}ï¼Œå…è®¸æ­£åˆ™è¡¨è¾¾å¼åŒ¹é…ç¬¦åˆ Unicode æŸç§å±æ€§çš„æ‰€æœ‰å­—ç¬¦ã€‚
//
// const regexGreekSymbol = /\p{Script=Greek}/u;
// regexGreekSymbol.test('Ï€') // true
// ä¸Šé¢ä»£ç ä¸­ï¼Œ\p{Script=Greek}æŒ‡å®šåŒ¹é…ä¸€ä¸ªå¸Œè…Šæ–‡å­—æ¯ï¼Œæ‰€ä»¥åŒ¹é…Ï€æˆåŠŸã€‚
//
// Unicode å±æ€§ç±»è¦æŒ‡å®šå±æ€§åå’Œå±æ€§å€¼ã€‚
//
// \p{UnicodePropertyName=UnicodePropertyValue}
// å¯¹äºæŸäº›å±æ€§ï¼Œå¯ä»¥åªå†™å±æ€§åï¼Œæˆ–è€…åªå†™å±æ€§å€¼ã€‚
//
// \p{UnicodePropertyName}
// \p{UnicodePropertyValue}
// \P{â€¦}æ˜¯\p{â€¦}çš„åå‘åŒ¹é…ï¼Œå³åŒ¹é…ä¸æ»¡è¶³æ¡ä»¶çš„å­—ç¬¦ã€‚
//
// æ³¨æ„ï¼Œè¿™ä¸¤ç§ç±»åªå¯¹ Unicode æœ‰æ•ˆï¼Œæ‰€ä»¥ä½¿ç”¨çš„æ—¶å€™ä¸€å®šè¦åŠ ä¸Šuä¿®é¥°ç¬¦ã€‚å¦‚æœä¸åŠ uä¿®é¥°ç¬¦ï¼Œæ­£åˆ™è¡¨è¾¾å¼ä½¿ç”¨\på’Œ\Pä¼šæŠ¥é”™ï¼ŒECMAScript é¢„ç•™äº†è¿™ä¸¤ä¸ªç±»ã€‚
//
// ç”±äº Unicode çš„å„ç§å±æ€§éå¸¸å¤šï¼Œæ‰€ä»¥è¿™ç§æ–°çš„ç±»çš„è¡¨è¾¾èƒ½åŠ›éå¸¸å¼ºã€‚
//
// const regex = /^\p{Decimal_Number}+$/u;
// regex.test('ğŸğŸğŸ‘ğŸœğŸğŸğŸ©ğŸªğŸ«ğŸ¬ğŸ­ğŸ®ğŸ¯ğŸºğŸ»ğŸ¼') // true
// ä¸Šé¢ä»£ç ä¸­ï¼Œå±æ€§ç±»æŒ‡å®šåŒ¹é…æ‰€æœ‰åè¿›åˆ¶å­—ç¬¦ï¼Œå¯ä»¥çœ‹åˆ°å„ç§å­—å‹çš„åè¿›åˆ¶å­—ç¬¦éƒ½ä¼šåŒ¹é…æˆåŠŸã€‚
//
// \p{Number}ç”šè‡³èƒ½åŒ¹é…ç½—é©¬æ•°å­—ã€‚
//
// // åŒ¹é…æ‰€æœ‰æ•°å­—
// const regex = /^\p{Number}+$/u;
// regex.test('Â²Â³Â¹Â¼Â½Â¾') // true
// regex.test('ã‰›ã‰œã‰') // true
// regex.test('â… â…¡â…¢â…£â…¤â…¥â…¦â…§â…¨â…©â…ªâ…«') // true
// ä¸‹é¢æ˜¯å…¶ä»–ä¸€äº›ä¾‹å­ã€‚
//
// // åŒ¹é…æ‰€æœ‰ç©ºæ ¼
// \p{White_Space}
//
// // åŒ¹é…å„ç§æ–‡å­—çš„æ‰€æœ‰å­—æ¯ï¼Œç­‰åŒäº Unicode ç‰ˆçš„ \w
// [\p{Alphabetic}\p{Mark}\p{Decimal_Number}\p{Connector_Punctuation}\p{Join_Control}]
//
// // åŒ¹é…å„ç§æ–‡å­—çš„æ‰€æœ‰éå­—æ¯çš„å­—ç¬¦ï¼Œç­‰åŒäº Unicode ç‰ˆçš„ \W
// [^\p{Alphabetic}\p{Mark}\p{Decimal_Number}\p{Connector_Punctuation}\p{Join_Control}]
//
// // åŒ¹é… Emoji
// /\p{Emoji_Modifier_Base}\p{Emoji_Modifier}?|\p{Emoji_Presentation}|\p{Emoji}\uFE0F/gu
//
// // åŒ¹é…æ‰€æœ‰çš„ç®­å¤´å­—ç¬¦
// const regexArrows = /^\p{Block=Arrows}+$/u;
// regexArrows.test('â†â†‘â†’â†“â†”â†•â†–â†—â†˜â†™â‡â‡â‡‘â‡’â‡“â‡”â‡•â‡–â‡—â‡˜â‡™â‡§â‡©') // true


//---------------------------å…·åç»„åŒ¹é…---------------------------------//
// let res = /(?<year>\d{4})-(?<month>\d{2})-(?<day>\d{4})/.exec('1998-01-27');
// debug(res);
// æ­£åˆ™è¡¨è¾¾å¼ä½¿ç”¨åœ†æ‹¬å·è¿›è¡Œç»„åŒ¹é…ã€‚
//
// const RE_DATE = /(\d{4})-(\d{2})-(\d{2})/;
// ä¸Šé¢ä»£ç ä¸­ï¼Œæ­£åˆ™è¡¨è¾¾å¼é‡Œé¢æœ‰ä¸‰ç»„åœ†æ‹¬å·ã€‚ä½¿ç”¨execæ–¹æ³•ï¼Œå°±å¯ä»¥å°†è¿™ä¸‰ç»„åŒ¹é…ç»“æœæå–å‡ºæ¥ã€‚
//
// const RE_DATE = /(\d{4})-(\d{2})-(\d{2})/;
//
// const matchObj = RE_DATE.exec('1999-12-31');
// const year = matchObj[1]; // 1999
// const month = matchObj[2]; // 12
// const day = matchObj[3]; // 31
// ç»„åŒ¹é…çš„ä¸€ä¸ªé—®é¢˜æ˜¯ï¼Œæ¯ä¸€ç»„çš„åŒ¹é…å«ä¹‰ä¸å®¹æ˜“çœ‹å‡ºæ¥ï¼Œè€Œä¸”åªèƒ½ç”¨æ•°å­—åºå·ï¼ˆæ¯”å¦‚matchObj[1]ï¼‰å¼•ç”¨ï¼Œè¦æ˜¯ç»„çš„é¡ºåºå˜äº†ï¼Œå¼•ç”¨çš„æ—¶å€™å°±å¿…é¡»ä¿®æ”¹åºå·ã€‚
//
// ES2018 å¼•å…¥äº†å…·åç»„åŒ¹é…ï¼ˆNamed Capture Groupsï¼‰ï¼Œå…è®¸ä¸ºæ¯ä¸€ä¸ªç»„åŒ¹é…æŒ‡å®šä¸€ä¸ªåå­—ï¼Œæ—¢ä¾¿äºé˜…è¯»ä»£ç ï¼Œåˆä¾¿äºå¼•ç”¨ã€‚
//
// const RE_DATE = /(?<year>\d{4})-(?<month>\d{2})-(?<day>\d{2})/;
//
// const matchObj = RE_DATE.exec('1999-12-31');
// const year = matchObj.groups.year; // 1999
// const month = matchObj.groups.month; // 12
// const day = matchObj.groups.day; // 31
// ä¸Šé¢ä»£ç ä¸­ï¼Œâ€œå…·åç»„åŒ¹é…â€åœ¨åœ†æ‹¬å·å†…éƒ¨ï¼Œæ¨¡å¼çš„å¤´éƒ¨æ·»åŠ â€œé—®å· + å°–æ‹¬å· + ç»„åâ€ï¼ˆ?<year>ï¼‰ï¼Œç„¶åå°±å¯ä»¥åœ¨execæ–¹æ³•è¿”å›ç»“æœçš„groupså±æ€§ä¸Šå¼•ç”¨è¯¥ç»„åã€‚åŒæ—¶ï¼Œæ•°å­—åºå·ï¼ˆmatchObj[1]ï¼‰ä¾ç„¶æœ‰æ•ˆã€‚
//
// å…·åç»„åŒ¹é…ç­‰äºä¸ºæ¯ä¸€ç»„åŒ¹é…åŠ ä¸Šäº† IDï¼Œä¾¿äºæè¿°åŒ¹é…çš„ç›®çš„ã€‚å¦‚æœç»„çš„é¡ºåºå˜äº†ï¼Œä¹Ÿä¸ç”¨æ”¹å˜åŒ¹é…åçš„å¤„ç†ä»£ç ã€‚
//
// å¦‚æœå…·åç»„æ²¡æœ‰åŒ¹é…ï¼Œé‚£ä¹ˆå¯¹åº”çš„groupså¯¹è±¡å±æ€§ä¼šæ˜¯undefinedã€‚
//
// const RE_OPT_A = /^(?<as>a+)?$/;
// const matchObj = RE_OPT_A.exec('');
//
// matchObj.groups.as // undefined
// 'as' in matchObj.groups // true
// ä¸Šé¢ä»£ç ä¸­ï¼Œå…·åç»„asæ²¡æœ‰æ‰¾åˆ°åŒ¹é…ï¼Œé‚£ä¹ˆmatchObj.groups.aså±æ€§å€¼å°±æ˜¯undefinedï¼Œå¹¶ä¸”asè¿™ä¸ªé”®ååœ¨groupsæ˜¯å§‹ç»ˆå­˜åœ¨çš„ã€‚
//
// è§£æ„èµ‹å€¼å’Œæ›¿æ¢
// æœ‰äº†å…·åç»„åŒ¹é…ä»¥åï¼Œå¯ä»¥ä½¿ç”¨è§£æ„èµ‹å€¼ç›´æ¥ä»åŒ¹é…ç»“æœä¸Šä¸ºå˜é‡èµ‹å€¼ã€‚
//
// let {groups: {one, two}} = /^(?<one>.*):(?<two>.*)$/u.exec('foo:bar');
// one  // foo
// two  // bar
// å­—ç¬¦ä¸²æ›¿æ¢æ—¶ï¼Œä½¿ç”¨$<ç»„å>å¼•ç”¨å…·åç»„ã€‚
//
// let re = /(?<year>\d{4})-(?<month>\d{2})-(?<day>\d{2})/u;
//
// '2015-01-02'.replace(re, '$<day>/$<month>/$<year>')
// // '02/01/2015'
// ä¸Šé¢ä»£ç ä¸­ï¼Œreplaceæ–¹æ³•çš„ç¬¬äºŒä¸ªå‚æ•°æ˜¯ä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œè€Œä¸æ˜¯æ­£åˆ™è¡¨è¾¾å¼ã€‚
//
// replaceæ–¹æ³•çš„ç¬¬äºŒä¸ªå‚æ•°ä¹Ÿå¯ä»¥æ˜¯å‡½æ•°ï¼Œè¯¥å‡½æ•°çš„å‚æ•°åºåˆ—å¦‚ä¸‹ã€‚
//
// '2015-01-02'.replace(re, (
//     matched, // æ•´ä¸ªåŒ¹é…ç»“æœ 2015-01-02
//     capture1, // ç¬¬ä¸€ä¸ªç»„åŒ¹é… 2015
//     capture2, // ç¬¬äºŒä¸ªç»„åŒ¹é… 01
//     capture3, // ç¬¬ä¸‰ä¸ªç»„åŒ¹é… 02
//     position, // åŒ¹é…å¼€å§‹çš„ä½ç½® 0
//     S, // åŸå­—ç¬¦ä¸² 2015-01-02
//     groups // å…·åç»„æ„æˆçš„ä¸€ä¸ªå¯¹è±¡ {year, month, day}
// ) => {
//     let {day, month, year} = args[args.length - 1];
//     return `${day}/${month}/${year}`;
// });
// å…·åç»„åŒ¹é…åœ¨åŸæ¥çš„åŸºç¡€ä¸Šï¼Œæ–°å¢äº†æœ€åä¸€ä¸ªå‡½æ•°å‚æ•°ï¼šå…·åç»„æ„æˆçš„ä¸€ä¸ªå¯¹è±¡ã€‚å‡½æ•°å†…éƒ¨å¯ä»¥ç›´æ¥å¯¹è¿™ä¸ªå¯¹è±¡è¿›è¡Œè§£æ„èµ‹å€¼ã€‚
//
// å¼•ç”¨
// å¦‚æœè¦åœ¨æ­£åˆ™è¡¨è¾¾å¼å†…éƒ¨å¼•ç”¨æŸä¸ªâ€œå…·åç»„åŒ¹é…â€ï¼Œå¯ä»¥ä½¿ç”¨\k<ç»„å>çš„å†™æ³•ã€‚
//
// const RE_TWICE = /^(?<word>[a-z]+)!\k<word>$/;
// RE_TWICE.test('abc!abc') // true
// RE_TWICE.test('abc!ab') // false
// æ•°å­—å¼•ç”¨ï¼ˆ\1ï¼‰ä¾ç„¶æœ‰æ•ˆã€‚
//
// const RE_TWICE = /^(?<word>[a-z]+)!\1$/;
// RE_TWICE.test('abc!abc') // true
// RE_TWICE.test('abc!ab') // false
// è¿™ä¸¤ç§å¼•ç”¨è¯­æ³•è¿˜å¯ä»¥åŒæ—¶ä½¿ç”¨ã€‚
//
// const RE_TWICE = /^(?<word>[a-z]+)!\k<word>!\1$/;
// RE_TWICE.test('abc!abc!abc') // true
// RE_TWICE.test('abc!abc!ab') // false
// String.prototype.matchAll
// å¦‚æœä¸€ä¸ªæ­£åˆ™è¡¨è¾¾å¼åœ¨å­—ç¬¦ä¸²é‡Œé¢æœ‰å¤šä¸ªåŒ¹é…ï¼Œç°åœ¨ä¸€èˆ¬ä½¿ç”¨gä¿®é¥°ç¬¦æˆ–yä¿®é¥°ç¬¦ï¼Œåœ¨å¾ªç¯é‡Œé¢é€ä¸€å–å‡ºã€‚
//
// var regex = /t(e)(st(\d?))/g;
// var string = 'test1test2test3';
//
// var matches = [];
// var match;
// while (match = regex.exec(string)) {
//     matches.push(match);
// }
//
// matches
// // [
// //   ["test1", "e", "st1", "1", index: 0, input: "test1test2test3"],
// //   ["test2", "e", "st2", "2", index: 5, input: "test1test2test3"],
// //   ["test3", "e", "st3", "3", index: 10, input: "test1test2test3"]
// // ]
// ä¸Šé¢ä»£ç ä¸­ï¼Œwhileå¾ªç¯å–å‡ºæ¯ä¸€è½®çš„æ­£åˆ™åŒ¹é…ï¼Œä¸€å…±ä¸‰è½®ã€‚
//
// ç›®å‰æœ‰ä¸€ä¸ªææ¡ˆï¼Œå¢åŠ äº†String.prototype.matchAllæ–¹æ³•ï¼Œå¯ä»¥ä¸€æ¬¡æ€§å–å‡ºæ‰€æœ‰åŒ¹é…ã€‚ä¸è¿‡ï¼Œå®ƒè¿”å›çš„æ˜¯ä¸€ä¸ªéå†å™¨ï¼ˆIteratorï¼‰ï¼Œè€Œä¸æ˜¯æ•°ç»„ã€‚
//
// const string = 'test1test2test3';
//
// // g ä¿®é¥°ç¬¦åŠ ä¸åŠ éƒ½å¯ä»¥
// const regex = /t(e)(st(\d?))/g;
//
// for (const match of string.matchAll(regex)) {
//     console.log(match);
// }
// // ["test1", "e", "st1", "1", index: 0, input: "test1test2test3"]
// // ["test2", "e", "st2", "2", index: 5, input: "test1test2test3"]
// // ["test3", "e", "st3", "3", index: 10, input: "test1test2test3"]
// ä¸Šé¢ä»£ç ä¸­ï¼Œç”±äºstring.matchAll(regex)è¿”å›çš„æ˜¯éå†å™¨ï¼Œæ‰€ä»¥å¯ä»¥ç”¨for...ofå¾ªç¯å–å‡ºã€‚ç›¸å¯¹äºè¿”å›æ•°ç»„ï¼Œè¿”å›éå†å™¨çš„å¥½å¤„åœ¨äºï¼Œå¦‚æœåŒ¹é…ç»“æœæ˜¯ä¸€ä¸ªå¾ˆå¤§çš„æ•°ç»„ï¼Œé‚£ä¹ˆéå†å™¨æ¯”è¾ƒèŠ‚çœèµ„æºã€‚
//
// éå†å™¨è½¬ä¸ºæ•°ç»„æ˜¯éå¸¸ç®€å•çš„ï¼Œä½¿ç”¨...è¿ç®—ç¬¦å’ŒArray.fromæ–¹æ³•å°±å¯ä»¥äº†ã€‚
//
// // è½¬ä¸ºæ•°ç»„æ–¹æ³•ä¸€
// [...string.matchAll(regex)]
//
// // è½¬ä¸ºæ•°ç»„æ–¹æ³•äºŒ
// Array.from(string.matchAll(regex));